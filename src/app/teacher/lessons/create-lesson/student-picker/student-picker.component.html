<ion-grid style="width: 100%; height: 100%">
  <form [formGroup]="form" *ngIf="userDatas !== undefined && studentDatas !== undefined">
    <ng-container *ngIf="studentControls.length > 0" formArrayName="students">
      <ion-row *ngFor="let student of studentControls; let i = index" [formGroupName]="i">
        <ion-col size="1">
          <ion-checkbox formControlName="selected"></ion-checkbox>
        </ion-col>
        <ion-col size="11">
          {{userDatas[i].firstName + ' ' + userDatas[i].lastName}}
        </ion-col>
      </ion-row>
    </ng-container>

    <ion-row *ngIf="studentControls.length === 0">
      <ion-col>
        No students in this class.
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-button (click)="selectAll()">Select all</ion-button>
      </ion-col>
      <ion-col style="text-align: end">
        <ion-button (click)="submit()">Submit</ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-grid>
